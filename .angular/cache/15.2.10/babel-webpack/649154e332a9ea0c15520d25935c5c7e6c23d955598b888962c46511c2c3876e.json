{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nexport class MyErrorStateMatcher {\n  isErrorState(control, form) {\n    const isSubmitted = form && form.submitted;\n    return !!(control && control.invalid && (control.dirty || control.touched || isSubmitted));\n  }\n}\nlet CategoryComponent = class CategoryComponent {\n  constructor(service) {\n    this.service = service;\n    this.matcher = new MyErrorStateMatcher();\n    this.country = new FormControl(null, [Validators.required]);\n    this.state = new FormControl({\n      value: null,\n      disabled: true\n    }, [Validators.required]);\n    this.city = new FormControl({\n      value: null,\n      disabled: true\n    }, [Validators.required]);\n    this.countries = this.service.getCountries();\n    this.form = new FormGroup({\n      country: this.country,\n      state: this.state,\n      city: this.city\n    });\n  }\n  ngOnInit() {\n    this.country.valueChanges.subscribe(country => {\n      this.state.reset();\n      this.state.disable();\n      if (country) {\n        this.states = this.service.getStatesByCountry(country);\n        this.state.enable();\n      }\n    });\n    this.state.valueChanges.subscribe(state => {\n      this.city.reset();\n      this.city.disable();\n      if (state) {\n        this.cities = this.service.getCitiesByState(this.country.value, state);\n        this.city.enable();\n      }\n    });\n  }\n};\nCategoryComponent = __decorate([Component({\n  selector: 'app-category',\n  templateUrl: './category.component.html',\n  styleUrls: ['./category.component.css']\n})], CategoryComponent);\nexport { CategoryComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,SAAS,QAAQ,gBAAgB;AAM1C,OAAM,MAAOC,mBAAmB;EAC9BC,YAAY,CACVC,OAA2B,EAC3BC,IAAwC;IAExC,MAAMC,WAAW,GAAGD,IAAI,IAAIA,IAAI,CAACE,SAAS;IAC1C,OAAO,CAAC,EACNH,OAAO,IACPA,OAAO,CAACI,OAAO,KACdJ,OAAO,CAACK,KAAK,IAAIL,OAAO,CAACM,OAAO,IAAIJ,WAAW,CAAC,CAClD;EACH;;AAOK,IAAMK,iBAAiB,GAAvB,MAAMA,iBAAiB;EAkB5BC,YAAoBC,OAAmB;IAAnB,YAAO,GAAPA,OAAO;IAd3B,YAAO,GAAG,IAAIX,mBAAmB,EAAE;IAMnC,YAAO,GAAG,IAAIY,WAAW,CAAC,IAAI,EAAE,CAACC,UAAU,CAACC,QAAQ,CAAC,CAAC;IACtD,UAAK,GAAG,IAAIF,WAAW,CAAC;MAAEG,KAAK,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAI,CAAE,EAAE,CACvDH,UAAU,CAACC,QAAQ,CACpB,CAAC;IACF,SAAI,GAAG,IAAIF,WAAW,CAAC;MAAEG,KAAK,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAI,CAAE,EAAE,CACtDH,UAAU,CAACC,QAAQ,CACpB,CAAC;IAGA,IAAI,CAACG,SAAS,GAAG,IAAI,CAACN,OAAO,CAACO,YAAY,EAAE;IAC5C,IAAI,CAACf,IAAI,GAAG,IAAIJ,SAAS,CAAC;MACxBoB,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,IAAI,EAAE,IAAI,CAACA;KACZ,CAAC;EACJ;EAEAC,QAAQ;IACN,IAAI,CAACH,OAAO,CAACI,YAAY,CAACC,SAAS,CAAEL,OAAO,IAAI;MAC9C,IAAI,CAACC,KAAK,CAACK,KAAK,EAAE;MAClB,IAAI,CAACL,KAAK,CAACM,OAAO,EAAE;MACpB,IAAIP,OAAO,EAAE;QACX,IAAI,CAACQ,MAAM,GAAG,IAAI,CAAChB,OAAO,CAACiB,kBAAkB,CAACT,OAAO,CAAC;QACtD,IAAI,CAACC,KAAK,CAACS,MAAM,EAAE;;IAEvB,CAAC,CAAC;IAEF,IAAI,CAACT,KAAK,CAACG,YAAY,CAACC,SAAS,CAAEJ,KAAK,IAAI;MAC1C,IAAI,CAACC,IAAI,CAACI,KAAK,EAAE;MACjB,IAAI,CAACJ,IAAI,CAACK,OAAO,EAAE;MACnB,IAAIN,KAAK,EAAE;QACT,IAAI,CAACU,MAAM,GAAG,IAAI,CAACnB,OAAO,CAACoB,gBAAgB,CAAC,IAAI,CAACZ,OAAO,CAACJ,KAAK,EAAEK,KAAK,CAAC;QACtE,IAAI,CAACC,IAAI,CAACQ,MAAM,EAAE;;IAEtB,CAAC,CAAC;EACJ;CACD;AA9CYpB,iBAAiB,eAL7BX,SAAS,CAAC;EACTkC,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACWzB,iBAAiB,CA8C7B;SA9CYA,iBAAiB","names":["Component","FormGroup","MyErrorStateMatcher","isErrorState","control","form","isSubmitted","submitted","invalid","dirty","touched","CategoryComponent","constructor","service","FormControl","Validators","required","value","disabled","countries","getCountries","country","state","city","ngOnInit","valueChanges","subscribe","reset","disable","states","getStatesByCountry","enable","cities","getCitiesByState","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\anandh\\Forms\\src\\app\\category\\category.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ListService } from '../list.service';\ninterface Country {\n  shortName: string;\n  name: string;\n}\nexport class MyErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(\n    control: FormControl | null,\n    form: FormGroupDirective | NgForm | null\n  ): boolean {\n    const isSubmitted = form && form.submitted;\n    return !!(\n      control &&\n      control.invalid &&\n      (control.dirty || control.touched || isSubmitted)\n    );\n  }\n}\n@Component({\n  selector: 'app-category',\n  templateUrl: './category.component.html',\n  styleUrls: ['./category.component.css']\n})\nexport class CategoryComponent implements OnInit {\n\n\n  form: FormGroup;\n  matcher = new MyErrorStateMatcher();\n\n  countries: Country[];\n  states: string[];\n  cities: string[];\n\n  country = new FormControl(null, [Validators.required]);\n  state = new FormControl({ value: null, disabled: true }, [\n    Validators.required,\n  ]);\n  city = new FormControl({ value: null, disabled: true }, [\n    Validators.required,\n  ]);\n\n  constructor(private service: AppService) {\n    this.countries = this.service.getCountries();\n    this.form = new FormGroup({\n      country: this.country,\n      state: this.state,\n      city: this.city,\n    });\n  }\n\n  ngOnInit() {\n    this.country.valueChanges.subscribe((country) => {\n      this.state.reset();\n      this.state.disable();\n      if (country) {\n        this.states = this.service.getStatesByCountry(country);\n        this.state.enable();\n      }\n    });\n\n    this.state.valueChanges.subscribe((state) => {\n      this.city.reset();\n      this.city.disable();\n      if (state) {\n        this.cities = this.service.getCitiesByState(this.country.value, state);\n        this.city.enable();\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}